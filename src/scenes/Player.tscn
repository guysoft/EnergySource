[gd_scene load_steps=19 format=3 uid="uid://b3mrx5kj7l8vc"]

[ext_resource type="PackedScene" uid="uid://l2n30mpbkdyw" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/right_hand_low.tscn" id="1"]
[ext_resource type="PackedScene" uid="uid://b4kad2kuba1yn" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/left_hand_low.tscn" id="2"]
[ext_resource type="Script" uid="uid://eyutyjcs6shy" path="res://scripts/controller.gd" id="3"]
[ext_resource type="Script" uid="uid://doeg578huqb6l" path="res://scripts/player.gd" id="4"]
[ext_resource type="PackedScene" uid="uid://c6nhx3y7j1vqk" path="res://scenes/Feature_UIRayCast.tscn" id="5"]
[ext_resource type="AudioStream" uid="uid://c0xrgcajnsyfk" path="res://sfx/RhySD-BackButton.wav" id="6"]
[ext_resource type="PackedScene" uid="uid://mexnesvbf66d" path="res://models/contoller/hammer_smaller_hand_left.glb" id="6_bruh7"]
[ext_resource type="PackedScene" uid="uid://cxmhj7l4qkn5p" path="res://scenes/player_center.tscn" id="11"]
[ext_resource type="PackedScene" uid="uid://diyc4ru8c1n75" path="res://scenes/UITransition.tscn" id="12"]

[sub_resource type="SphereShape3D" id="22"]
margin = 0.02
radius = 0.1

[sub_resource type="CylinderMesh" id="20"]
top_radius = 0.02
bottom_radius = 0.015
height = 0.17

[sub_resource type="StandardMaterial3D" id="21"]
albedo_color = Color(0.180392, 0.180392, 0.180392, 1)
metallic = 1.0
roughness = 0.38

[sub_resource type="CapsuleMesh" id="17"]
radius = 0.01
height = 0.75

[sub_resource type="StandardMaterial3D" id="19"]
shading_mode = 0
albedo_color = Color(0.964706, 0.427451, 0.956863, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_6eyey"]
radius = 0.027832031
height = 0.48427865

[sub_resource type="BoxShape3D" id="BoxShape3D_d3wef"]
size = Vector3(0.11077118, 0.23046875, 0.11312866)

[sub_resource type="StandardMaterial3D" id="18"]
shading_mode = 0
albedo_color = Color(0.403922, 0.972549, 0.992157, 1)

[sub_resource type="BoxShape3D" id="15"]

[node name="Player" type="CharacterBody3D"]
process_mode = 3
collision_mask = 8
script = ExtResource("4")

[node name="XROrigin3D" type="XROrigin3D" parent="."]
process_mode = 3

[node name="XRCamera3D" type="XRCamera3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)
far = 200.0

[node name="HeadArea" type="Area3D" parent="XROrigin3D/XRCamera3D"]
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/XRCamera3D/HeadArea"]
shape = SubResource("22")

[node name="UITransition" parent="XROrigin3D/XRCamera3D" instance=ExtResource("12")]
transform = Transform3D(1.25, 0, 0, 0, 1.25, 0, 0, 0, 1.25, 0, 0, -0.4)
visible = false

[node name="Feature_UIRayCast" parent="XROrigin3D/XRCamera3D" instance=ExtResource("5")]
ui_raycast_length = 6.0

[node name="LeftHand" type="XRController3D" parent="XROrigin3D"]
visible = false
tracker = &"left_hand"
script = ExtResource("3")
velocity_track_point = NodePath("Position3D2/Marker3D/EndTracker")

[node name="LeftHand" parent="XROrigin3D/LeftHand" instance=ExtResource("2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0448227, 0.147459)
visible = false

[node name="Position3D2" type="Marker3D" parent="XROrigin3D/LeftHand"]
transform = Transform3D(1, 0, 0, 0, 0.819152, -0.573577, 0, 0.573577, 0.819152, 0, 0, 0)

[node name="Marker3D" type="Marker3D" parent="XROrigin3D/LeftHand/Position3D2"]
transform = Transform3D(1, 0, 0, 0, 1, -2.98023e-08, 0, 2.98023e-08, 1, 0, 0, -0.377)

[node name="Handle" type="MeshInstance3D" parent="XROrigin3D/LeftHand/Position3D2/Marker3D"]
transform = Transform3D(1, 0, 0, 0, -8.9407e-08, -1, 0, 1, -8.9407e-08, 0, 1.11759e-08, 0.45)
visible = false
mesh = SubResource("20")
surface_material_override/0 = SubResource("21")

[node name="Blade" type="MeshInstance3D" parent="XROrigin3D/LeftHand/Position3D2/Marker3D"]
visible = false
mesh = SubResource("17")
surface_material_override/0 = SubResource("19")

[node name="hammer_smaller_hand_left" parent="XROrigin3D/LeftHand/Position3D2/Marker3D" instance=ExtResource("6_bruh7")]
transform = Transform3D(1.0741881e-08, 7.521546e-09, -0.29999998, -0.0037905872, -0.29997593, -7.656669e-09, -0.29997593, 0.0037905872, -1.0645973e-08, -0.0012979591, 0.5424671, 0.0019629896)

[node name="EndTracker" type="Marker3D" parent="XROrigin3D/LeftHand/Position3D2/Marker3D"]
transform = Transform3D(1, 0, 0, 0, 1, -2.98023e-08, 0, 2.98023e-08, 1, 0, 0, -0.37)

[node name="Area3D" type="Area3D" parent="XROrigin3D/LeftHand/Position3D2/Marker3D"]
transform = Transform3D(0.9974904, -0.056038313, 0.043272354, -0.040609844, 0.047810316, 0.9980298, -0.057996813, -0.9972824, 0.045414835, 0.00042785704, 0.25550413, -0.033929378)
collision_layer = 2
collision_mask = 28

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/LeftHand/Position3D2/Marker3D/Area3D"]
transform = Transform3D(0.9996111, -0.015502767, -0.023180475, -0.022843475, 0.021573007, -0.9995061, 0.01599519, 0.9996465, 0.02121067, -0.0144622065, -0.017327636, 0.3287332)
shape = SubResource("CapsuleShape3D_6eyey")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="XROrigin3D/LeftHand/Position3D2/Marker3D/Area3D"]
transform = Transform3D(0.9996111, 0.02360816, -0.014843287, -0.02284348, 0.9984998, 0.04973373, 0.015995193, -0.049375504, 0.99865043, -0.0052563716, -0.03350851, 0.05804631)
shape = SubResource("BoxShape3D_d3wef")

[node name="Feature_UIRayCast" parent="XROrigin3D/LeftHand/Position3D2/Marker3D" instance=ExtResource("5")]
controller_path = NodePath("../../..")
ui_raycast_length = 5.0

[node name="RightHand" type="XRController3D" parent="XROrigin3D"]
tracker = &"right_hand"
script = ExtResource("3")
velocity_track_point = NodePath("Marker3D/Marker3D/EndTracker")

[node name="HandModel" parent="XROrigin3D/RightHand" instance=ExtResource("1")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.045, 0.147)
visible = false

[node name="Marker3D" type="Marker3D" parent="XROrigin3D/RightHand"]
transform = Transform3D(1, 0, 0, 0, 0.819152, -0.573577, 0, 0.573577, 0.819152, 0, 0, 0)

[node name="Marker3D" type="Marker3D" parent="XROrigin3D/RightHand/Marker3D"]
transform = Transform3D(1, 0, 0, 0, 1, -2.98023e-08, 0, 2.98023e-08, 1, 0, 0, -0.377)

[node name="Handle" type="MeshInstance3D" parent="XROrigin3D/RightHand/Marker3D/Marker3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0.45)
visible = false
mesh = SubResource("20")
skeleton = NodePath("../Blade")
surface_material_override/0 = SubResource("21")

[node name="Blade" type="MeshInstance3D" parent="XROrigin3D/RightHand/Marker3D/Marker3D"]
visible = false
mesh = SubResource("17")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("18")

[node name="hammer_smaller_hand_right" parent="XROrigin3D/RightHand/Marker3D/Marker3D" instance=ExtResource("6_bruh7")]
transform = Transform3D(-1.0741881e-08, -7.521546e-09, 0.29999998, -0.0037905872, -0.29997593, -7.656669e-09, 0.29997593, -0.0037905872, 1.0645973e-08, 0.0012979591, 0.5424671, -0.0019629896)

[node name="EndTracker" type="Marker3D" parent="XROrigin3D/RightHand/Marker3D/Marker3D"]
transform = Transform3D(1, 0, 0, 0, 1, -2.98023e-08, 0, 2.98023e-08, 1, 0, 5.96046e-08, -0.37)

[node name="Area3D" type="Area3D" parent="XROrigin3D/RightHand/Marker3D/Marker3D"]
transform = Transform3D(0.9974616, -0.056526102, 0.043301523, -0.04061225, 0.047888283, 0.99802595, -0.058488216, -0.9972511, 0.04547108, -0.00042785704, 0.25550413, 0.033929378)
collision_layer = 2
collision_mask = 28

[node name="CollisionShape3D3" type="CollisionShape3D" parent="XROrigin3D/RightHand/Marker3D/Marker3D/Area3D"]
transform = Transform3D(0.9985084, -0.05432088, 0.0054309852, 0.0067422446, 0.023985088, -0.99968946, 0.054173768, 0.99823433, 0.024315596, -0.016522713, 0.060434937, 0.32962227)
shape = SubResource("CapsuleShape3D_6eyey")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="XROrigin3D/RightHand/Marker3D/Marker3D/Area3D"]
transform = Transform3D(0.99850833, -0.003897667, -0.05445239, 0.006742036, 0.99861515, 0.05214992, 0.054173864, -0.05243939, 0.9971516, 0.002706279, 0.0430052, 0.059564307)
shape = SubResource("BoxShape3D_d3wef")

[node name="Feature_UIRayCast" parent="XROrigin3D/RightHand/Marker3D/Marker3D" instance=ExtResource("5")]
controller_path = NodePath("../../..")
ui_raycast_length = 5.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)
shape = SubResource("15")

[node name="BombSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6")

[node name="PlayerCenter" parent="." instance=ExtResource("11")]

[connection signal="area_entered" from="XROrigin3D/XRCamera3D/HeadArea" to="." method="_on_HeadArea_area_entered"]
[connection signal="area_entered" from="XROrigin3D/LeftHand/Position3D2/Marker3D/Area3D" to="." method="_on_Area_area_entered_left"]
[connection signal="body_entered" from="XROrigin3D/LeftHand/Position3D2/Marker3D/Area3D" to="." method="_on_left_hand_body_entered"]
[connection signal="body_exited" from="XROrigin3D/LeftHand/Position3D2/Marker3D/Area3D" to="." method="_on_Area_body_exited_left"]
[connection signal="area_entered" from="XROrigin3D/RightHand/Marker3D/Marker3D/Area3D" to="." method="_on_Area_area_entered_right"]
[connection signal="body_entered" from="XROrigin3D/RightHand/Marker3D/Marker3D/Area3D" to="." method="_on_right_hand_body_entered"]
[connection signal="body_exited" from="XROrigin3D/RightHand/Marker3D/Marker3D/Area3D" to="." method="_on_Area_body_exited_right"]
